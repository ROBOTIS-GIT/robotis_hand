<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:macro name="robotis_hand_system" params="name prefix port_name:=^|/dev/ttyUSB0 use_sim:=^|false use_mock_hardware:=^|false mock_sensor_commands:=^|false">
    <ros2_control name="${name}" type="system" is_async="true">
      <xacro:if value="$(arg use_sim)">
        <hardware>
          <plugin>gz_ros2_control/GazeboSimSystem</plugin>
        </hardware>
      </xacro:if>
      <xacro:unless value="$(arg use_sim)">
        <hardware>
          <xacro:if value="${use_mock_hardware}">
            <plugin>mock_components/GenericSystem</plugin>
            <param name="mock_sensor_commands">${mock_sensor_commands}</param>
            <param name="state_following_offset">0.0</param>
          </xacro:if>
          <xacro:unless value="${use_mock_hardware}">
            <plugin>dynamixel_hardware_interface/DynamixelHardware</plugin>
            <param name="port_name">${port_name}</param>
            <param name="baud_rate">4000000</param>
            <param name="error_timeout_ms">500</param>
            <param name="dynamixel_model_folder">/param/dxl_model</param>
            <param name="number_of_joints">20</param>
            <param name="number_of_transmissions">20</param>
            <param name="disable_torque_at_init">true</param>
            <param name="dynamixel_state_pub_msg_name">dynamixel_hardware_interface/dxl_state</param>
            <param name="get_dynamixel_data_srv_name">dynamixel_hardware_interface/get_dxl_data</param>
            <param name="set_dynamixel_data_srv_name">dynamixel_hardware_interface/set_dxl_data</param>
            <param name="reboot_dxl_srv_name">dynamixel_hardware_interface/reboot_dxl</param>
            <param name="set_dxl_torque_srv_name">dynamixel_hardware_interface/set_dxl_torque</param>
          </xacro:unless>
        </hardware>
      </xacro:unless>

      <joint name="${prefix}finger_l_joint1">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint2">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint3">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint4">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <sensor name="${prefix}finger_l_sensor1">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
      </sensor>
      <joint name="${prefix}finger_l_joint5">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint6">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint7">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint8">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <sensor name="${prefix}finger_l_sensor2">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
      </sensor>
      <joint name="${prefix}finger_l_joint9">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint10">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint11">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint12">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <sensor name="${prefix}finger_l_sensor3">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
      </sensor>
      <joint name="${prefix}finger_l_joint13">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint14">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint15">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint16">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <sensor name="${prefix}finger_l_sensor4">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
      </sensor>
      <joint name="${prefix}finger_l_joint17">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint18">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint19">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <joint name="${prefix}finger_l_joint20">
        <command_interface name="position"/>
        <command_interface name="effort"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
        <state_interface name="effort"/>
      </joint>
      <sensor name="${prefix}finger_l_sensor5">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
      </sensor>

      <gpio name="hand_l_controller">
        <param name="type">controller</param>
        <param name="ID">140</param>
        <param name="Reboot">1</param>
        <param name="Table Sync Enable">0</param>
        <param name="Bus Watchdog">100</param>
        <param name="SyncTable 1 ID 1">141</param>
        <param name="SyncTable 1 ID 2">142</param>
        <param name="SyncTable 1 ID 3">143</param>
        <param name="SyncTable 1 ID 4">144</param>
        <param name="SyncTable 1 ID 5">145</param>
        <param name="SyncTable 2 ID 1">146</param>
        <param name="SyncTable 2 ID 2">147</param>
        <param name="SyncTable 2 ID 3">148</param>
        <param name="SyncTable 2 ID 4">149</param>
        <param name="SyncTable 2 ID 5">150</param>
        <param name="SyncTable 3 ID 1">151</param>
        <param name="SyncTable 3 ID 2">152</param>
        <param name="SyncTable 3 ID 3">153</param>
        <param name="SyncTable 3 ID 4">154</param>
        <param name="SyncTable 3 ID 5">155</param>
        <param name="SyncTable 4 ID 1">156</param>
        <param name="SyncTable 4 ID 2">157</param>
        <param name="SyncTable 4 ID 3">158</param>
        <param name="SyncTable 4 ID 4">159</param>
        <param name="SyncTable 4 ID 5">160</param>
        <param name="SyncTable 5 ID 1">161</param>
        <param name="SyncTable 5 ID 2">162</param>
        <param name="SyncTable 5 ID 3">163</param>
        <param name="SyncTable 5 ID 4">164</param>
        <param name="SyncTable 5 ID 5">165</param>
        <param name="SyncTable 1 Read Address 1">224</param>
        <param name="SyncTable 1 Read Address 2">224</param>
        <param name="SyncTable 1 Read Address 3">224</param>
        <param name="SyncTable 1 Read Address 4">224</param>
        <param name="SyncTable 1 Read Address 5">72</param>
        <param name="SyncTable 1 Read Size 1">6</param>
        <param name="SyncTable 1 Read Size 2">6</param>
        <param name="SyncTable 1 Read Size 3">6</param>
        <param name="SyncTable 1 Read Size 4">6</param>
        <param name="SyncTable 1 Read Size 5">9</param>
        <param name="SyncTable 1 Write Address 1">230</param>
        <param name="SyncTable 1 Write Address 2">230</param>
        <param name="SyncTable 1 Write Address 3">230</param>
        <param name="SyncTable 1 Write Address 4">230</param>
        <param name="SyncTable 1 Write Address 5">0</param>
        <param name="SyncTable 1 Write Size 1">4</param>
        <param name="SyncTable 1 Write Size 2">4</param>
        <param name="SyncTable 1 Write Size 3">4</param>
        <param name="SyncTable 1 Write Size 4">4</param>
        <param name="SyncTable 1 Write Size 5">0</param>
        <param name="SyncTable 2 Read Address 1">224</param>
        <param name="SyncTable 2 Read Address 2">224</param>
        <param name="SyncTable 2 Read Address 3">224</param>
        <param name="SyncTable 2 Read Address 4">224</param>
        <param name="SyncTable 2 Read Address 5">72</param>
        <param name="SyncTable 2 Read Size 1">6</param>
        <param name="SyncTable 2 Read Size 2">6</param>
        <param name="SyncTable 2 Read Size 3">6</param>
        <param name="SyncTable 2 Read Size 4">6</param>
        <param name="SyncTable 2 Read Size 5">9</param>
        <param name="SyncTable 2 Write Address 1">230</param>
        <param name="SyncTable 2 Write Address 2">230</param>
        <param name="SyncTable 2 Write Address 3">230</param>
        <param name="SyncTable 2 Write Address 4">230</param>
        <param name="SyncTable 2 Write Address 5">0</param>
        <param name="SyncTable 2 Write Size 1">4</param>
        <param name="SyncTable 2 Write Size 2">4</param>
        <param name="SyncTable 2 Write Size 3">4</param>
        <param name="SyncTable 2 Write Size 4">4</param>
        <param name="SyncTable 2 Write Size 5">0</param>
        <param name="SyncTable 3 Read Address 1">224</param>
        <param name="SyncTable 3 Read Address 2">224</param>
        <param name="SyncTable 3 Read Address 3">224</param>
        <param name="SyncTable 3 Read Address 4">224</param>
        <param name="SyncTable 3 Read Address 5">72</param>
        <param name="SyncTable 3 Read Size 1">6</param>
        <param name="SyncTable 3 Read Size 2">6</param>
        <param name="SyncTable 3 Read Size 3">6</param>
        <param name="SyncTable 3 Read Size 4">6</param>
        <param name="SyncTable 3 Read Size 5">9</param>
        <param name="SyncTable 3 Write Address 1">230</param>
        <param name="SyncTable 3 Write Address 2">230</param>
        <param name="SyncTable 3 Write Address 3">230</param>
        <param name="SyncTable 3 Write Address 4">230</param>
        <param name="SyncTable 3 Write Address 5">0</param>
        <param name="SyncTable 3 Write Size 1">4</param>
        <param name="SyncTable 3 Write Size 2">4</param>
        <param name="SyncTable 3 Write Size 3">4</param>
        <param name="SyncTable 3 Write Size 4">4</param>
        <param name="SyncTable 3 Write Size 5">0</param>
        <param name="SyncTable 4 Read Address 1">224</param>
        <param name="SyncTable 4 Read Address 2">224</param>
        <param name="SyncTable 4 Read Address 3">224</param>
        <param name="SyncTable 4 Read Address 4">224</param>
        <param name="SyncTable 4 Read Address 5">72</param>
        <param name="SyncTable 4 Read Size 1">6</param>
        <param name="SyncTable 4 Read Size 2">6</param>
        <param name="SyncTable 4 Read Size 3">6</param>
        <param name="SyncTable 4 Read Size 4">6</param>
        <param name="SyncTable 4 Read Size 5">9</param>
        <param name="SyncTable 4 Write Address 1">230</param>
        <param name="SyncTable 4 Write Address 2">230</param>
        <param name="SyncTable 4 Write Address 3">230</param>
        <param name="SyncTable 4 Write Address 4">230</param>
        <param name="SyncTable 4 Write Address 5">0</param>
        <param name="SyncTable 4 Write Size 1">4</param>
        <param name="SyncTable 4 Write Size 2">4</param>
        <param name="SyncTable 4 Write Size 3">4</param>
        <param name="SyncTable 4 Write Size 4">4</param>
        <param name="SyncTable 4 Write Size 5">0</param>
        <param name="SyncTable 5 Read Address 1">224</param>
        <param name="SyncTable 5 Read Address 2">224</param>
        <param name="SyncTable 5 Read Address 3">224</param>
        <param name="SyncTable 5 Read Address 4">224</param>
        <param name="SyncTable 5 Read Address 5">72</param>
        <param name="SyncTable 5 Read Size 1">6</param>
        <param name="SyncTable 5 Read Size 2">6</param>
        <param name="SyncTable 5 Read Size 3">6</param>
        <param name="SyncTable 5 Read Size 4">6</param>
        <param name="SyncTable 5 Read Size 5">9</param>
        <param name="SyncTable 5 Write Address 1">230</param>
        <param name="SyncTable 5 Write Address 2">230</param>
        <param name="SyncTable 5 Write Address 3">230</param>
        <param name="SyncTable 5 Write Address 4">230</param>
        <param name="SyncTable 5 Write Address 5">0</param>
        <param name="SyncTable 5 Write Size 1">4</param>
        <param name="SyncTable 5 Write Size 2">4</param>
        <param name="SyncTable 5 Write Size 3">4</param>
        <param name="SyncTable 5 Write Size 4">4</param>
        <param name="SyncTable 5 Write Size 5">0</param>
      </gpio>
      <gpio name="dxl141_init">
        <param name="type">controller</param>
        <param name="ID">141</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">0</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl142_init">
        <param name="type">controller</param>
        <param name="ID">142</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">1024</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl143_init">
        <param name="type">controller</param>
        <param name="ID">143</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl144_init">
        <param name="type">controller</param>
        <param name="ID">144</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl146_init">
        <param name="type">controller</param>
        <param name="ID">146</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl147_init">
        <param name="type">controller</param>
        <param name="ID">147</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">1024</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl148_init">
        <param name="type">controller</param>
        <param name="ID">148</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl149_init">
        <param name="type">controller</param>
        <param name="ID">149</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl151_init">
        <param name="type">controller</param>
        <param name="ID">151</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">-171</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl152_init">
        <param name="type">controller</param>
        <param name="ID">152</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">1024</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl153_init">
        <param name="type">controller</param>
        <param name="ID">153</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl154_init">
        <param name="type">controller</param>
        <param name="ID">154</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl156_init">
        <param name="type">controller</param>
        <param name="ID">156</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">-341</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl157_init">
        <param name="type">controller</param>
        <param name="ID">157</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">1024</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl158_init">
        <param name="type">controller</param>
        <param name="ID">158</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl159_init">
        <param name="type">controller</param>
        <param name="ID">159</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl161_init">
        <param name="type">controller</param>
        <param name="ID">161</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">-682</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl162_init">
        <param name="type">controller</param>
        <param name="ID">162</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Homing Offset">1024</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl163_init">
        <param name="type">controller</param>
        <param name="ID">163</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>
      <gpio name="dxl164_init">
        <param name="type">controller</param>
        <param name="ID">164</param>
        <param name="Reboot">1</param>
        <param name="Startup Configuration">2</param>
        <param name="Operating Mode">5</param>
        <param name="Drive Mode">12</param>
        <param name="Bus Watchdog">100</param>
        <param name="Profile Velocity">100</param>
        <param name="Profile Acceleration">50</param>
        <param name="Position P Gain">500</param>
        <param name="Position D Gain">1000</param>
        <param name="Indirect Address 1">126</param>
        <param name="Indirect Address 2">127</param>
        <param name="Indirect Address 3">128</param>
        <param name="Indirect Address 4">129</param>
        <param name="Indirect Address 5">132</param>
        <param name="Indirect Address 6">133</param>
        <param name="Indirect Address 7">102</param>
        <param name="Indirect Address 8">103</param>
        <param name="Indirect Address 9">116</param>
        <param name="Indirect Address 10">117</param>
      </gpio>

      <gpio name="hand_controller_dummy">
        <param name="type">controller</param>
        <param name="ID">140</param>
        <param name="Table Sync Enable">1</param>
      </gpio>

      <gpio name="dxl141">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">141</param>
        <param name="comm_id">140</param>
        <param name="model_num">6001</param>
      </gpio>
      <gpio name="dxl142">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">142</param>
        <param name="comm_id">140</param>
        <param name="model_num">6002</param>
      </gpio>
      <gpio name="dxl143">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">143</param>
        <param name="comm_id">140</param>
        <param name="model_num">6003</param>
      </gpio>
      <gpio name="dxl144">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">144</param>
        <param name="comm_id">140</param>
        <param name="model_num">6004</param>
      </gpio>
      <gpio name="${prefix}finger_l_sensor1">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
        <param name="type">virtual_sensor</param>
        <param name="ID">145</param>
        <param name="comm_id">140</param>
        <param name="model_num">6005</param>
      </gpio>
      <gpio name="dxl146">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">146</param>
        <param name="comm_id">140</param>
        <param name="model_num">6006</param>
      </gpio>
      <gpio name="dxl147">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">147</param>
        <param name="comm_id">140</param>
        <param name="model_num">6007</param>
      </gpio>
      <gpio name="dxl148">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">148</param>
        <param name="comm_id">140</param>
        <param name="model_num">6008</param>
      </gpio>
      <gpio name="dxl149">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">149</param>
        <param name="comm_id">140</param>
        <param name="model_num">6009</param>
      </gpio>
      <gpio name="${prefix}finger_l_sensor2">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
        <param name="type">virtual_sensor</param>
        <param name="ID">150</param>
        <param name="comm_id">140</param>
        <param name="model_num">6010</param>
      </gpio>
      <gpio name="dxl151">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">151</param>
        <param name="comm_id">140</param>
        <param name="model_num">6011</param>
      </gpio>
      <gpio name="dxl152">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">152</param>
        <param name="comm_id">140</param>
        <param name="model_num">6012</param>
      </gpio>
      <gpio name="dxl153">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">153</param>
        <param name="comm_id">140</param>
        <param name="model_num">6013</param>
      </gpio>
      <gpio name="dxl154">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">154</param>
        <param name="comm_id">140</param>
        <param name="model_num">6014</param>
      </gpio>
      <gpio name="${prefix}finger_l_sensor3">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
        <param name="type">virtual_sensor</param>
        <param name="ID">155</param>
        <param name="comm_id">140</param>
        <param name="model_num">6015</param>
      </gpio>
      <gpio name="dxl156">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">156</param>
        <param name="comm_id">140</param>
        <param name="model_num">6016</param>
      </gpio>
      <gpio name="dxl157">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">157</param>
        <param name="comm_id">140</param>
        <param name="model_num">6017</param>
      </gpio>
      <gpio name="dxl158">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">158</param>
        <param name="comm_id">140</param>
        <param name="model_num">6018</param>
      </gpio>
      <gpio name="dxl159">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">159</param>
        <param name="comm_id">140</param>
        <param name="model_num">6019</param>
      </gpio>
      <gpio name="${prefix}finger_l_sensor4">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
        <param name="type">virtual_sensor</param>
        <param name="ID">160</param>
        <param name="comm_id">140</param>
        <param name="model_num">6020</param>
      </gpio>
      <gpio name="dxl161">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">161</param>
        <param name="comm_id">140</param>
        <param name="model_num">6021</param>
      </gpio>
      <gpio name="dxl162">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">162</param>
        <param name="comm_id">140</param>
        <param name="model_num">6022</param>
      </gpio>
      <gpio name="dxl163">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">163</param>
        <param name="comm_id">140</param>
        <param name="model_num">6023</param>
      </gpio>
      <gpio name="dxl164">
        <command_interface name="Goal Position"/>
        <command_interface name="Goal Current"/>
        <state_interface name="Present Position"/>
        <state_interface name="Present Velocity"/>
        <state_interface name="Present Current"/>
        <param name="type">virtual_dxl</param>
        <param name="ID">164</param>
        <param name="comm_id">140</param>
        <param name="model_num">6024</param>
      </gpio>
      <gpio name="${prefix}finger_l_sensor5">
        <state_interface name="Present Pressure 1"/>
        <state_interface name="Present Pressure 2"/>
        <state_interface name="Present Pressure 3"/>
        <state_interface name="Present Pressure 4"/>
        <state_interface name="Present Pressure 5"/>
        <state_interface name="Present Pressure 6"/>
        <state_interface name="Present Pressure 7"/>
        <state_interface name="Present Pressure 8"/>
        <state_interface name="Present Pressure 9"/>
        <param name="type">virtual_sensor</param>
        <param name="ID">165</param>
        <param name="comm_id">140</param>
        <param name="model_num">6025</param>
      </gpio>

    </ros2_control>
  </xacro:macro>
</robot>
